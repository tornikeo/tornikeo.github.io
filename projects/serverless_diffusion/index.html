<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tornike  Onoprishvili | Stable Diffusion in Serverless Mode</title>
    <meta name="author" content="Tornike  Onoprishvili" />
    <meta name="description" content="Run diffusion models on serverless GPUs." />
    <meta name="keywords" content="tornikeo, tornike, onoprishvili, ai, llm, portfolio, machine learning, researcher, scientist" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22https://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚öõÔ∏è</text></svg>">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://tornikeo.com/projects/serverless_diffusion/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark" />

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <meta name="referrer" content="no-referrer">
      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://tornikeo.com/"><span class="font-weight-bold">Tornike</span>   Onoprishvili</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>

              <!-- Other pages -->
                <li class="nav-item ">
                  <a class="nav-link" href="/projects/">projects</a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="/publications/">publications</a>
                </li>
                
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Resume: Direct link to PDF asset -->
              <li class="nav-item">
                <a class="nav-link" href="https://raw.githubusercontent.com/tornikeo/cdn/master/assets/resume/tornikeo.pdf" target="_blank" rel="noopener noreferrer">resume
                </a>
              </li>

              <!-- Toggle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
<div class="post">

  <header class="post-header">
    <h1 class="post-title">Stable Diffusion in Serverless Mode</h1>
    <p class="post-description">Run diffusion models on serverless GPUs.</p>
  </header>

  <article>
    <h1 id="intro-on-stable-diffusion">Intro on stable diffusion</h1>

<p>Stable Diffusion is a latent text-to-image diffusion model capable of generating photo-realistic images given almost <em>any</em> text input. Have a look at have a look at <a href="https://huggingface.co/blog/stable_diffusion" target="_blank" rel="noopener noreferrer">ü§ó‚Äôs Stable Diffusion with Diffusers blog</a> for information about how Stable Diffusion functions. Here, however, we will learn more about how to host <code class="language-plaintext highlighter-rouge">Stable-Diffusion-v1-4</code> on a <em>serverless</em> GPU backend.</p>

<p>The Stable-Diffusion-v1-4 checkpoint was initialized with the weights of the Stable-Diffusion-v1-2 checkpoint and subsequently fine-tuned on 225k steps at resolution 512x512 on ‚Äúlaion-aesthetics v2 5+‚Äù and 10% dropping of the text-conditioning to improve classifier-free guidance sampling.</p>

<figure>
  <div class="container text-center">
  <video height="" class="" width="70%" autoplay="" loop="" muted="">
    <!-- <img  src="https://storage.googleapis.com/tornikeo-portfolio-cdn/imgur/07ylZV6.mp4"    /> -->
    <source src="https://storage.googleapis.com/tornikeo-portfolio-cdn/imgur/07ylZV6.mp4" type="video/mp4"></source>

  </video>
</div>
<figcaption class="caption"><p>images generated by the stable diffusion library</p>
</figcaption></figure>

<h1 id="a-live-showcase">A live showcase</h1>
<p>Below, you will see a sample <em>free</em> implementation of stable diffusion model, deployed on a serverless GPU backend. <strong>Note that it might take up to 10-15 seconds to load</strong>. While the boot-up delay can be frustrating, where it is tolerable, server cost savings can be huge. This is especially important for showcase projects and services with occasional demand spikes every now and then.</p>

<p>Try out the serverless diffusion - it‚Äôs <em>nearly</em> free. <em>Nearly</em>, because each invocation takes around 15-20 seconds to finish, and, each <em>second</em> costs around $0.00025996.  <strong>Click the below image to open up the website for it (requires google auth, since it still costs a bit of money to run).</strong></p>

<p><a href="https://tornikeo.web.app/login" target="_blank" rel="noopener noreferrer">
    <img src="https://storage.googleapis.com/tornikeo-portfolio-cdn/Screenshot%20from%202023-03-23%2001-14-02.png">
</a></p>

<h2 id="how-it-works">How it works</h2>

<p>This app is composed of three major layers (all freely available):</p>
<ul>
  <li>All you see here, at <a href="https://tornikeo.com/">https://tornikeo.com/</a> is delivered as a static website, from github pages. This is just plain old HTML, CSS and JavaScript. No magic here. This part of the app can be called a <em>front</em>. It is hosted by github and is extremely quick to load.</li>
  <li>The box above this text, which contains the <strong>submit</strong> button and other controls, is actually a separate website. It is hosted as a serverless, python application on google cloud server. It is serverless, because the server it runs on is only up when someone is actively using it. It also acts as a sort of a gateway. It can limit the number of requests you make from the <em>front</em> or block users based on IP, something that is not possible by just relying on HTML and JavaScript. Let‚Äôs call this part a <em>gateway</em>.</li>
  <li>Lastly, and this is the important bit, the <em>gateway</em> calls a hidden website, with two secret strings, <strong>MODEL_KEY</strong> and <strong>API_KEY</strong>. We call this the <em>backend</em>. This API is hosted by <a href="https://www.banana.dev/" target="_blank" rel="noopener noreferrer">banana.dev</a>. Currently <em>banana.dev</em> is the simplest serverless GPU provider on the market. When <em>gateway</em> calls <em>backend</em>, <em>banana.dev</em> boots up my container containing the stable diffusion model and executes the input given to <em>gateway</em> from the <em>front</em>. The result is then passed back, in two steps - <em>backend</em> to <em>gateway</em>, <em>gateway</em> to <em>front</em>.</li>
</ul>

<p>And, this is it. Had I not used serverless GPU as a backend, I would‚Äôve ended up with a monthly bill of around $300. Right now, it‚Äôs less than $3 (in 2022), since my showcases don‚Äôt have regular users.</p>

  </article>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        <!-- &copy; Copyright 2025 Tornike  Onoprishvili.  -->Last updated: October 02, 2025.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootstrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>
  <script src="/assets/js/spinner.js"></script>
  <script src="/assets/js/image_comparison.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
  </body>
</html>

