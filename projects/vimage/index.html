<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Tornike  Onoprishvili | VIMAGE: Accelerate, Simplify, Deploy</title>
    <meta name="author" content="Tornike  Onoprishvili" />
    <meta name="description" content="Scalable GPU-backed solution on Google Cloud." />
    <meta name="keywords" content="tornikeo, tornike, onoprishvili, ai, llm, portfolio, machine learning, researcher, scientist" />


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light" />

    <!-- Styles -->
    
    <link rel="shortcut icon" href="data:image/svg+xml,<svg xmlns=%22https://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚛️</text></svg>">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://tornikeo.com/projects/vimage/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark" />

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class="fixed-top-nav ">

    <!-- Header -->
    <header>

      <meta name="referrer" content="no-referrer">
      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://tornikeo.com/"><span class="font-weight-bold">Tornike</span>   Onoprishvili</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>

              <!-- Other pages -->
                <li class="nav-item ">
                  <a class="nav-link" href="/projects/">projects</a>
                </li>
                <li class="nav-item ">
                  <a class="nav-link" href="/publications/">publications</a>
                </li>
                
              <!-- Blog -->
              <li class="nav-item ">
                <a class="nav-link" href="/blog/">blog</a>
              </li>

              <!-- Resume: Direct link to PDF asset -->
              <li class="nav-item">
                <a class="nav-link" href="https://raw.githubusercontent.com/tornikeo/cdn/master/assets/resume/tornikeo.pdf" target="_blank" rel="noopener noreferrer">resume
                </a>
              </li>

              <!-- Toggle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
<div class="post">

  <header class="post-header">
    <h1 class="post-title">VIMAGE: Accelerate, Simplify, Deploy</h1>
    <p class="post-description">Scalable GPU-backed solution on Google Cloud.</p>
  </header>

  <article>
    <figure>
  <div class="center-role-form">
    <div class="col">
      <video loop="loop" autoplay="" playsinline="" muted="" id="mejs_6833802707345928_html5" preload="none" src="https://raw.githubusercontent.com/tornikeo/cdn/master/assets/vimage/diffloop-cropped-tiny.webm" style="margin: 0px; width: 100%; height: 100%;">
      </video>
    </div>
  </div>
</figure>

<p><a href="https://play.google.com/store/apps/details?id=com.vimage.android&amp;hl=en&amp;gl=US" target="_blank" rel="noopener noreferrer">VIMAGE</a> is an early image-to-video AI application, with over <strong>10 million</strong> total downloads on Google Play. It is primarily built by a group of just 5 people (as of March 6, 2023). An overview of the app’s capabilities is shown in this promotional video:</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/whD3l0YXIEU?si=7DdMSeO9z32Bgg9l" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<p>The app works by decomposing an uploaded image into two parts: foreground and background, and manipulating the two parts to add effects like a parallax. Even though the technology behind this is simple, the results (as seen above) look quite impressive.</p>

<h2 id="project-requirements">Project Requirements</h2>

<p>The core of the project consists of the following three parts:</p>
<ul>
  <li>Handling image I/O in a way that respects end-user privacy</li>
  <li>Creating an accurate depth map of the input RGB image</li>
  <li>Deciding which pixels fall within the background and which within the foreground</li>
</ul>

<div class="row">
    <div class="col">
        <div class="container">

    <figure class="cd-image-container" style="width: 500px;">
        <img src="https://storage.googleapis.com/tornikeo-portfolio-cdn/imgur/4r6AxEC.png" alt="Original Image">
		<span class="cd-image-label" data-type="original">Depth map</span>
        
		<div class="cd-resize-img"> <!-- the resizable image on top -->
			<img src="https://storage.googleapis.com/tornikeo-portfolio-cdn/imgur/Z78wJUV.png" alt="Modified Image">
			<span class="cd-image-label" data-type="modified">Raw image</span>
		</div>
        
		<span class="cd-handle"></span>
	</figure> <!-- cd-image-container -->
</div>
    </div>
</div>
<div class="caption">
    Creating an accurate depth map from an RGB image is a very important step in background separation.
</div>

<p>In addition, there were other business restrictions in place:</p>

<ul>
  <li>Prioritize cost saving</li>
  <li>Ensure scalability - the app had frequent usage spikes</li>
  <li>Make the app faster</li>
  <li>Add basic Firebase authentication</li>
  <li>Host all of it on Google Cloud Platform to make use of credits</li>
</ul>

<h2 id="implementation">Implementation</h2>

<p>The most pressing constraint of this project was the GPU requirements of the core layer of the project. This, coupled with the scalability requirements (i.e., a fully managed GPU provider platform), narrowed down our choice of compute providers significantly. At this stage, we had just three options:</p>

<ul>
  <li>Set up a manual lightweight server that allocates and deallocates GPU-powered VMs from <code class="language-plaintext highlighter-rouge">Google Cloud Compute</code> service.</li>
  <li>Investigate the <code class="language-plaintext highlighter-rouge">Google Cloud Run Anthos</code> service (which reportedly provides serverless GPUs).</li>
  <li>Investigate whether <code class="language-plaintext highlighter-rouge">Google Cloud Vertex AI</code> could be used for our requirements.</li>
</ul>

<p>To avoid a costly research phase, we consulted with a certified Google Cloud architect and, with their insight, decided to go with the <code class="language-plaintext highlighter-rouge">Vertex AI</code> service. The rough outline of the project was specified during a packed one-hour-long meeting:</p>

<ul>
  <li>Use <code class="language-plaintext highlighter-rouge">Vertex AI Endpoint</code> to access the cheapest GPU VM (T4 GPU instance backed with N2-family CPU).</li>
  <li>Leverage the scalability of <code class="language-plaintext highlighter-rouge">Vertex AI Endpoints</code>. VAIE is scalable by default but is constrained to have <strong>at least one instance always running</strong>. Usually, this means a monthly bill of around $300, and for personal, ultra-low-use projects, this kind of bill is a big no-no. However, given our customer’s access to a large amount of budget, this price was of no concern.</li>
</ul>

<p>However, VAIE also comes with a few drawbacks. Namely:</p>
<ul>
  <li>All the requests must be <a href="https://cloud.google.com/vertex-ai/docs/predictions/custom-container-requirements#request_requirements" target="_blank" rel="noopener noreferrer">smaller than 1.5 MB in size</a>.</li>
  <li>
<a href="https://cloud.google.com/vertex-ai/docs/predictions/custom-container-requirements#request_requirements" target="_blank" rel="noopener noreferrer">All requests have to be in plain JSON</a>.</li>
  <li>
<a href="https://cloud.google.com/vertex-ai/docs/predictions/custom-container-requirements#publishing" target="_blank" rel="noopener noreferrer">The container has to be hosted on <code class="language-plaintext highlighter-rouge">Google Cloud Containers</code> service</a>.</li>
</ul>

<h2 id="reflections">Reflections</h2>

<p>The VIMAGE project was the first large-scale project I worked on that had active users from day one. The application backend profiling, bottleneck identification, and optimizations were the easiest parts to complete. Basic security and authentication, to my surprise, were even easier to add. The most time-consuming part was babysitting the Vertex AI deployments. I find it mind-boggling just how suboptimal the backend implementation was as it was presented to me. I think with this project I’ve learned a very valuable lesson in designing successful applications: make it work first, and you can make it optimal later.</p>

  </article>

</div>

    </div>

    <!-- Footer -->    
    <footer class="fixed-bottom">
      <div class="container mt-0">
        <!-- &copy; Copyright 2025 Tornike  Onoprishvili.  -->Last updated: October 02, 2025.
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootstrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js" integrity="sha256-l/1pMF/+J4TThfgARS6KwWrk/egwuVvhRzfLAMQ6Ds4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js" integrity="sha256-SyTu6CwrfOhaznYZPoolVw2rxoY7lKYKQvqbtqN93HI=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>
  <script src="/assets/js/spinner.js"></script>
  <script src="/assets/js/image_comparison.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    
  </body>
</html>

